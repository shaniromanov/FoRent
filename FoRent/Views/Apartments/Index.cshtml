@model IEnumerable<FoRent.Models.Apartment>


@{
    ViewData["Title"] = "Index";

}
<br />
<br />
<br />
<button class="w3-button w3-block w3-black w3-margin-bottom " id="submitButton">רוצה לדעת מה מזג האויר באיזורים המבוקשים?</button>
<table class="table table-dark" id="weatherTable"></table>
<br />
<br />
<script type="text/javascript" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>

@*<script>
        //function CreateWeatherJson(json) {


        //}

        //$("#submitButton").click(function (e) {
        //    $.ajax({
        //        type: "POST",
        //        url: "http://api.openweathermap.org/data/2.5/group?id=281184,293396,8199378,294800,294952&appid=de6d52c2ebb7b1398526329875a49c57&units=metric",
        //        dataType: "json",
        //        success: function (result, status, xhr) {

        //            var newJson = "";
        //            $('#weatherTable').append('<thead>< tr ><th scope="col">איזור</th><th scope="col">מזג אויר</th></tr ></thead ><tbody>');
        //            for (i = 0; i < result.list.length; i++) {
        //                cityId = result.list[i].id;
        //                cityName = result.list[i].name;
        //                temp = result.list[i].main.temp
        //                pressure = result.list[i].main.pressure
        //                humidity = result.list[i].main.humidity
        //                tempmin = result.list[i].main.temp_min
        //                tempmax = result.list[i].main.temp_max

        //                $('#weatherTable').append('<tr><td >' + cityName + '</td><td>' + temp + '</td></tr>');
        //            }
        //            $('#weatherTable').append(' </tbody></table >');
        //        }
        //    });
        //});
    </script>*@

<div class="w3-col m2">
    <label><i class="fa fa-search"></i>מיין </label>
    <select>
        <option value="order">מהנמוך לגבוה</option>
        <option value="order">מהגבוה לנמוך</option>


    </select>
</div>
<br />
<br />


<table>
    <tbody>
        @foreach (var item in Model)
        {

            <div class="card-columns">

                <div class="w3-third w3-container">
                    <img src="@Html.DisplayFor(modelItem => item.Image.BedRoom)" alt="Norway" style="width:100%">

                    <h3>@Html.DisplayFor(modelItem => item.Amenities.Description)</h3>
                    @{ var calculate = item.PriceAdult * ViewBag.NumOfAdult + item.PriceChild * ViewBag.NumOfChild;}
                    <h6 class="w3-opacity"> @calculate<span> ש"ח</span></h6>
                    <p>מספר חדרים: @Html.DisplayFor(modelItem => item.Amenities.NumOfRooms)</p>
                    <p>15m<sup>2</sup></p>
                    <p class="w3-large"><i class="fa fa-bath"></i> <i class="fa fa-phone"></i> <i class="fa fa-wifi"></i></p>
                    <button class="w3-button w3-block w3-black w3-margin-bottom "><a asp-action="Details" asp-route-id="@item.Id">בחר דירה</a></button>

                </div>
            </div>


        }
        <br />
    </tbody>
</table>
@section Scripts {

    <script src="~/js/index.js"></script>
}

